# Bacon configuration for webatui-ref
# This is a library crate with examples, not a binary

# Default job - build the library
[jobs.default]
command = ["cargo", "build", "--features", "terminal"]
need_stdout = false

# Check job - faster than build
[jobs.check]
command = ["cargo", "check", "--features", "terminal"]
need_stdout = false

# Test job
[jobs.test]
command = ["cargo", "test", "--features", "terminal"]
need_stdout = true

# Clippy job for linting
[jobs.clippy]
command = ["cargo", "clippy", "--all-targets", "--features", "terminal"]
need_stdout = false

# Doc job for documentation
[jobs.doc]
command = ["cargo", "doc", "--features", "terminal", "--no-deps"]
need_stdout = false

# WASM build job
[jobs.wasm]
command = ["cargo", "build", "--target", "wasm32-unknown-unknown", "--lib", "--no-default-features"]
need_stdout = false

# WASM check job (faster)
[jobs.wasm-check]
command = ["cargo", "check", "--target", "wasm32-unknown-unknown", "--lib", "--no-default-features"]
need_stdout = false

# Example jobs for each example
[jobs.example-basic]
command = ["cargo", "run", "--example", "basic", "--features", "terminal"]
need_stdout = true
watch = ["examples/basic.rs", "src/**/*.rs"]

[jobs.example-dashboard]
command = ["cargo", "run", "--example", "dashboard", "--features", "terminal"]
need_stdout = true
watch = ["examples/dashboard.rs", "src/**/*.rs"]

[jobs.example-interactive]
command = ["cargo", "run", "--example", "interactive", "--features", "terminal"]
need_stdout = true
watch = ["examples/interactive.rs", "src/**/*.rs"]

# All examples at once (just builds them)
[jobs.examples]
command = ["cargo", "build", "--examples", "--features", "terminal"]
need_stdout = false
